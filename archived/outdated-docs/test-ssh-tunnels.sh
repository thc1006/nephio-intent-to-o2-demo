#!/bin/bash
echo "=== SSH隧道配置驗證 ==="
echo ""
echo "📋 配置資訊："
echo "Edge1 (147.251.115.129):"
echo "  - 本地端口 30091 → Edge1:30090 (SLO metrics)"
echo "  - 本地端口 31281 → Edge1:31280 (O2IMS API)"
echo ""
echo "Edge2 (147.251.115.193):"
echo "  - 本地端口 30092 → Edge2:30090 (SLO metrics)"
echo "  - 本地端口 31282 → Edge2:31280 (O2IMS API)"
echo ""
echo "🔧 建立SSH隧道命令："
echo "# Terminal 1 - Edge1隧道"
echo "ssh -L 30091:localhost:30090 -L 31281:localhost:31280 ubuntu@147.251.115.129 -N"
echo ""
echo "# Terminal 2 - Edge2隧道"
echo "ssh -L 30092:localhost:30090 -L 31282:localhost:31280 ubuntu@147.251.115.193 -N"
echo ""
echo "📊 測試命令（建立隧道後）："
echo "# Edge1測試"
echo "curl http://localhost:30091/metrics/api/v1/slo"
echo "curl http://localhost:31281/o2ims/v1/health"
echo ""
echo "# Edge2測試"
echo "curl http://localhost:30092/metrics/api/v1/slo"
echo "curl http://localhost:31282/o2ims/v1/health"
