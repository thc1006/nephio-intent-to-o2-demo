# Rollback Configuration for Nephio R5 & O-RAN L Release
# Used by rollback.sh for enhanced rollback operations

# Rollback strategy configuration
ROLLBACK_STRATEGY="revert"  # revert|reset|selective
PUBLISH_BRANCH="feat/slo-gate"
MAIN_BRANCH="main"
ROLLBACK_TAG_PREFIX="rollback"

# Multi-site configuration
TARGET_SITE="both"  # edge1|edge2|both
PARTIAL_ROLLBACK="false"
SITE_SPECIFIC_BRANCHES="false"

# Evidence collection settings
COLLECT_EVIDENCE="true"
CREATE_SNAPSHOTS="true"
PRESERVE_ARTIFACTS="true"
EVIDENCE_RETENTION_DAYS="30"

# Root cause analysis settings
ENABLE_RCA="true"
RCA_DEPTH="10"  # Number of commits to analyze
ANALYZE_POSTCHECK_REPORT="true"

# Safety and verification settings
FORCE_PUSH="false"
BACKUP_REMOTE=""  # Optional backup remote name
DRY_RUN="false"

# Logging configuration
LOG_JSON="false"
LOG_LEVEL="INFO"  # DEBUG|INFO|WARN|ERROR
GENERATE_DETAILED_REPORT="true"

# Notification settings (leave empty to disable)
NOTIFY_WEBHOOK=""
SLACK_WEBHOOK=""
TEAMS_WEBHOOK=""
EMAIL_RECIPIENTS=""

# Network configuration (use environment variables)
# VM2_IP should be set in environment for edge1 site
# VM4_IP should be set in environment for edge2 site

# Timeout settings (seconds)
GIT_OPERATION_TIMEOUT="300"
PUSH_RETRY_COUNT="3"
PUSH_RETRY_DELAY="10"

# Advanced options
ENABLE_AUTO_CONFLICT_RESOLUTION="true"
CREATE_BACKUP_BRANCHES="true"
VERIFY_PUSH_SUCCESS="true"
PARALLEL_SITE_OPERATIONS="false"

# Demo and testing settings
ENABLE_SYNTHETIC_METRICS="true"  # For demo when real metrics unavailable
SKIP_REMOTE_VALIDATION="false"
ENABLE_TRACE_LOGGING="false"