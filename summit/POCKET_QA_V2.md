# Summit Pocket Q&A + Risk List v2
## Enhanced Edition with Operator Î± and Dual-Mode Support

## Quick Reference Card

### System Status
- **Shell Pipeline**: âœ… 100% Ready
- **Operator Î±**: âœ… v0.1.2-alpha (Fixed phases)
- **Edge1**: 172.16.4.45:31280 âœ…
- **Edge2**: 172.16.4.176:31280 âœ…
- **Pipeline Modes**: embedded | standalone
- **Fallback**: Shell pipeline always available

### Emergency Commands
```bash
# Quick health check
make -f Makefile.summit summit-validate

# Switch to shell mode
export PIPELINE_MODE=embedded
make -f Makefile.summit summit

# Switch to operator mode
export PIPELINE_MODE=standalone
make -f Makefile.summit summit-operator

# Emergency rollback
./summit/runbook.sh recover checkpoint-3
```

## Top 25 Q&A for Summit

### 1. Q: What is the Operator Î± and why "alpha"?
**A**: Operator Î± (v0.1.x-alpha) is our Kubernetes-native controller for IntentDeployment CRs. It's alpha because it's Summit-preview quality, demonstrating the future of intent-driven management. Production version (v0.2.0-beta) is planned post-Summit.

### 2. Q: How do the dual modes (embedded/standalone) work?
**A**:
- **Embedded**: Operator calls shell scripts directly (current default)
- **Standalone**: Operator has native Go implementations
- Switch via: `PIPELINE_MODE=embedded|standalone`
- Both produce identical KRM outputs (deterministic kpt rendering)

### 3. Q: What's the phase state machine for IntentDeployment?
**A**: Pending â†’ Compiling â†’ Rendering â†’ Delivering â†’ **Reconciling** â†’ **Verifying** â†’ Succeeded/Failed (â†’ RollingBack if configured)

Key improvement: Added Reconciling (GitOps sync) and Verifying (SLO checks) phases for better observability.

### 4. Q: How is the operator tested?
**A**: Three-layer testing:
1. **Unit tests**: Controller logic with mocks
2. **Contract tests**: Kubebuilder envtest for phase transitions
3. **E2E tests**: Full deployment on kind cluster
Run: `make test` (must show green)

### 5. Q: What if Edge2 has no SSH access?
**A**: Not a problem!
- GitOps (Config Sync) is **pull-based** - Edge2 pulls from Git
- O2IMS uses NodePort (31280) - accessible via network
- No SSH needed for runtime operations
- SSH only for initial bootstrap (can be done via console)

### 6. Q: How does TMF921 to 3GPP TS 28.312 conversion work?
**A**:
```python
# Converter at tools/tmf921-to-28312/
tmf921_intent â†’ converter.py â†’ 3gpp_expectation â†’
intent-compiler â†’ KRM manifests â†’ kpt render â†’ GitOps
```
Mappings defined in `mappings/tmf921_to_28312.yaml`

### 7. Q: What's the difference between main and operator repos?
**A**:
- **Main repo**: Complete system, v1.1.x, shell-focused CI
- **Operator repo**: Just the operator, v0.1.x-alpha, Go CI
- **Sync**: Via git subtree at `operator/` directory
- Changes flow bidirectionally

### 8. Q: Can we run without the operator?
**A**: Yes! Shell pipeline is primary and 100% functional:
```bash
make -f Makefile.summit summit  # Pure shell mode
```
Operator is additive, not required.

### 9. Q: What are the SLO thresholds?
**A**: Default gates:
- **Latency P99**: < 100ms
- **Error Rate**: < 0.1%
- **Availability**: > 99.9%
Configurable per IntentDeployment CR in `spec.gatesConfig.sloThresholds`

### 10. Q: How does automatic rollback work?
**A**:
1. SLO violation detected in Verifying phase
2. If `spec.rollbackConfig.autoRollback: true`
3. Phase transitions to RollingBack
4. Previous Git commit restored
5. Evidence collected in `rollback-evidence.json`

### 11. Q: What's in the evidence package?
**A**: Generated by `make summit-evidence`:
- All CR status (crs.yaml)
- RootSync status from both edges
- manifest.json with endpoints and commits
- SHA256SUMS for integrity
- Timestamps and Git tags

### 12. Q: How to verify deterministic rendering?
**A**: Run `./scripts/verify_kpt_determinism.sh`
- Same input â†’ Same output (100% reproducible)
- Depth-first traversal
- In-place overwrite
- No randomness in resource ordering

### 13. Q: What if Config Sync fails to sync?
**A**: Check points:
1. `kubectl --context edge1 get rootsync -n config-management-system`
2. Check SYNCED status and lastSyncTime
3. Review error in status.conditions
4. Manual sync: `kubectl --context edge1 annotate rootsync root-sync sync=true`

### 14. Q: Can we deploy to single site if one is down?
**A**: Yes! Use targetSite:
- `targetSite: edge1` - Only Edge1
- `targetSite: edge2` - Only Edge2
- `targetSite: both` - Both (fails if either unreachable)

### 15. Q: What's the Summit timing?
**A**: 30-minute demo:
- 0-5 min: Introduction and architecture
- 5-10 min: NL to Intent compilation
- 10-20 min: Live deployment (both modes)
- 20-25 min: Fault injection and rollback
- 25-30 min: Q&A buffer

### 16. Q: How to handle timeout during demo?
**A**: Pre-cached checkpoints:
```bash
./summit/runbook.sh recover checkpoint-3  # After deployment
./summit/runbook.sh recover checkpoint-5  # After validation
```
Each checkpoint includes full state dump.

### 17. Q: What are the resource requirements?
**A**: Minimal:
- **Operator**: 100m CPU, 128Mi RAM
- **Per Intent**: ~50m CPU, 64Mi RAM
- **Total for demo**: < 1 CPU, < 1GB RAM
- Runs fine on single VM with kind

### 18. Q: How does leader election work?
**A**: Operator uses standard controller-runtime:
- Lease-based leader election
- Automatic failover
- Check leader: `kubectl -n intent-operator-system get lease`

### 19. Q: Can we extend to more sites?
**A**: Yes, architecture supports N sites:
- Add to targetSite enum in CRD
- Configure new edge context
- Add GitOps repo path
- No code changes needed

### 20. Q: What's the security model?
**A**: Defense in depth:
- No secrets in code/configs (use references)
- RBAC for operator (least privilege)
- NetworkPolicies for pod communication
- GitOps for audit trail
- TLS for external endpoints

### 21. Q: How to debug failing IntentDeployment?
**A**: Step-by-step:
```bash
# Check phase
kubectl get intentdeployment <name> -o jsonpath='{.status.phase}'

# Check conditions
kubectl describe intentdeployment <name>

# Check operator logs
kubectl logs -n intent-operator-system deploy/controller-manager

# Check events
kubectl get events --field-selector involvedObject.name=<name>
```

### 22. Q: What's the backup plan if operator fails?
**A**: Triple redundancy:
1. **Primary**: Fix operator (30s restart)
2. **Secondary**: Switch to shell pipeline (instant)
3. **Tertiary**: Use pre-rendered manifests (in artifacts/)

### 23. Q: How does the Web UI work?
**A**: LLM Adapter at VM-1:
- Simple Flask app (llm-adapter/app.py)
- Converts natural language to TMF921
- Mock mode for demo (no real LLM needed)
- Accessible at http://<VM1-IP>:5000

### 24. Q: What metrics are collected?
**A**: Comprehensive observability:
- **Operator**: Controller reconciliation metrics
- **Deployment**: Phase transition times
- **SLO**: Latency, errors, availability
- **GitOps**: Sync status and lag
- **O2IMS**: Service health checks

### 25. Q: What's next after Summit?
**A**: Roadmap:
- **v0.2.0-beta**: Standalone mode completion
- **v0.3.0**: Multi-cluster federation
- **v1.0.0**: Production release
- Integration with Nephio R6
- Real LLM integration (GPT-4/Claude)

## Risk List & Mitigations

### Risk 1: Network Connectivity Issues
- **Impact**: Cannot reach edges
- **Likelihood**: Medium
- **Mitigation**: Pre-deployed state, local kind cluster demo
- **Recovery**: Use recorded demo video

### Risk 2: Operator Crashes During Demo
- **Impact**: CRs stuck in phase
- **Likelihood**: Low (fixed in v0.1.2-alpha)
- **Mitigation**: Shell pipeline fallback
- **Recovery**: `make summit` (shell mode)

### Risk 3: GitOps Sync Delays
- **Impact**: Slow deployment
- **Likelihood**: Medium
- **Mitigation**: Reduced sync interval to 30s
- **Recovery**: Manual sync trigger

### Risk 4: SLO False Positives
- **Impact**: Unnecessary rollback
- **Likelihood**: Low
- **Mitigation**: Conservative thresholds
- **Recovery**: Disable gates temporarily

### Risk 5: Time Overrun
- **Impact**: Incomplete demo
- **Likelihood**: Medium
- **Mitigation**: Checkpoint recovery system
- **Recovery**: Jump to checkpoint-5 (validation complete)

### Risk 6: Question We Can't Answer
- **Impact**: Credibility
- **Likelihood**: Low
- **Mitigation**: This Q&A document
- **Recovery**: "Great question, let's discuss offline"

### Risk 7: Dual-Repo Sync Issues
- **Impact**: Version mismatch
- **Likelihood**: Very Low
- **Mitigation**: Pre-synced before Summit
- **Recovery**: Use tagged versions

### Risk 8: Resource Exhaustion
- **Impact**: Pod evictions
- **Likelihood**: Very Low
- **Mitigation**: Resource limits set
- **Recovery**: Delete old test deployments

### Risk 9: Certificate Expiry
- **Impact**: TLS failures
- **Likelihood**: Very Low (certs valid 1 year)
- **Mitigation**: Checked in pre-flight
- **Recovery**: Disable TLS temporarily

### Risk 10: Human Error
- **Impact**: Various
- **Likelihood**: Medium
- **Mitigation**: Automated scripts, practice runs
- **Recovery**: Checkpoint system

## Pre-Summit Checklist

- [ ] Run `make test` in operator repo
- [ ] Verify both edges responding
- [ ] Check Git sync status
- [ ] Test rollback mechanism
- [ ] Review this Q&A
- [ ] Practice timing
- [ ] Charge laptop
- [ ] Test projector
- [ ] Backup slides ready
- [ ] Team briefed

## Presenter Notes

1. **Stay calm** - We have multiple fallbacks
2. **Use checkpoints** - Don't restart from zero
3. **Shell mode** - Always works, use if needed
4. **Keep talking** - Explain what's happening
5. **30 minutes** - Stick to timeline
6. **Questions** - Defer complex ones
7. **Evidence** - Show the JSON/YAML outputs
8. **Success** - We have 100% working system!

## Contact During Summit

- **Primary**: Check Slack #summit-war-room
- **Backup**: Email to team
- **Emergency**: Use shell pipeline
- **Remember**: We've got this! ðŸš€

---
*Last updated: 2025-09-16 | Version: 2.0 | Operator: v0.1.2-alpha | Main: v1.1.2-rc2*